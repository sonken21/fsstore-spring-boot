<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">


<!-- Mirrored from portotheme.com/html/porto_ecommerce/wishlist.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 03 Dec 2025 14:22:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>FSStore - Bootstrap eCommerce Template</title>

    <meta name="keywords" content="HTML5 Template" />
    <meta name="description" content="FSStore - Bootstrap eCommerce Template">
    <meta name="author" content="SW-THEMES">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" th:href="@{/assets/images/icons/favicon.jpg}">


    <script>
        WebFontConfig = {
            google: { families: [ 'Open+Sans:300,400,600,700,800', 'Poppins:300,400,500,600,700', 'Shadows+Into+Light:400' ] }
        };
        ( function ( d ) {
            var wf = d.createElement( 'script' ), s = d.scripts[ 0 ];
            wf.src = 'assets/js/webfont.js';
            wf.async = true;
            s.parentNode.insertBefore( wf, s );
        } )( document );
    </script>

    <!-- Plugins CSS File -->
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">

    <!-- Main CSS File -->
    <link rel="stylesheet" th:href="@{/assets/css/style.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/assets/vendor/fontawesome-free/css/all.min.css}">
</head>

<body>
<div class="page-wrapper">
    <header class="header">
        <div class="header-top">
            <div class="container">
                <div class="header-right header-dropdowns ml-0 ml-sm-auto w-sm-100">
                    <div class="header-dropdown dropdown-expanded d-none d-lg-block">
                        <a href="#">Links</a>
                        <div class="header-menu">
                            <ul>
                                <li><a th:href="@{/account}">Tài Khoản Của Tôi</a></li>
                                <li><a th:href="@{/}">About Us</a></li>
                                <li><a th:href="@{/wishlist}">Yêu Thích</a></li>
                                <li><a th:href="@{/cart}">Giỏ Hàng</a></li>
                                <li><a th:href="@{/login}" class="login-link">Đăng Nhập</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="social-icons">
                        <a href="#" class="social-icon social-facebook icon-facebook" target="_blank"></a>
                        <a href="#" class="social-icon social-twitter icon-twitter" target="_blank"></a>
                        <a href="#" class="social-icon social-instagram icon-instagram" target="_blank"></a>
                    </div>
                </div>
            </div>
        </div>

        <div class="header-middle sticky-header" data-sticky-options="{'mobile': true}">
            <div class="container">
                <div class="header-left">
                    <button class="mobile-menu-toggler text-primary mr-2" type="button">
                        <i class="fas fa-bars"></i>
                    </button>
                    <a th:href="@{/}" class="logo">
                        <img th:src="@{/assets/images/logo_black.png}" width="111" height="44" alt="FS Logo">
                    </a>
                </div>

                <div class="header-center w-lg-max ml-lg-5 mr-lg-5">
                    <div class="header-search header-search-popup header-search-category d-none d-sm-block w-100">
                        <a href="#" class="search-toggle" role="button"><i class="icon-magnifier"></i></a>
                        <form th:action="@{/shop}" method="get">
                            <div class="header-search-wrapper">
                                <input type="search" class="form-control" name="keyword" id="keyword"
                                       th:value="${keyword}" placeholder="Tôi đang tìm kiếm..." required="">
                                <button class="btn icon-search-3" type="submit"></button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="header-right">
                    <div class="header-contact d-none d-lg-flex pl-4 pr-4">
                        <img th:src="@{/assets/images/phone.png}" alt="phone" width="30" height="30" class="pb-1">
                        <h6><span>Call us now</span><a href="tel:#" class="text-dark font1">0343291216</a></h6>
                    </div>

                    <div class="user-info-wrapper d-flex align-items-center">
                    <span sec:authorize="isAuthenticated()" style="margin-right: 10px; font-size: 13px; white-space: nowrap;" class="d-none d-sm-inline">
                        Chào, <strong sec:authentication="name" class="text-primary">User</strong>
                    </span>
                        <a th:href="@{/account}" class="header-icon header-icon-user">
                            <i class="icon-user-2"></i>
                        </a>
                    </div>

                    <a th:href="@{/wishlist}" class="header-icon" title="wishlist"><i class="icon-wishlist-2"></i></a>

                    <div class="dropdown cart-dropdown">
                        <a href="#" class="dropdown-toggle dropdown-arrow cart-toggle" role="button" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false" data-display="static">
                            <i class="icon-cart-thick"></i>
                            <span class="cart-count badge-circle" th:text="${cart != null && cart.items != null ? cart.items.size() : 0}">0</span>
                        </a>

                        <div class="cart-overlay"></div>

                        <div class="dropdown-menu mobile-cart">
                            <a href="#" title="Close (Esc)" class="btn-close">×</a>
                            <div class="dropdownmenu-wrapper custom-scrollbar">
                                <div class="dropdown-cart-header">Giỏ Hàng</div>
                                <div class="dropdown-cart-products">
                                    <div class="product" th:each="item : ${cart?.items}">
                                        <div class="product-details">
                                            <h4 class="product-title">
                                                <a th:href="@{/product/{id}(id=${item.product.id})}" th:text="${item.product.name}">Tên sản phẩm</a>
                                            </h4>
                                            <span class="cart-product-info">
                                            <span class="cart-product-qty" th:text="${item.quantity}">1</span> ×
                                            <span th:text="${#numbers.formatDecimal(item.priceAtPurchase, 0, 'COMMA', 0, 'POINT')} + 'đ'">0đ</span>
                                        </span>
                                        </div>
                                        <figure class="product-image-container">
                                            <a th:href="@{/product/{id}(id=${item.product.id})}" class="product-image">
                                                <img th:src="@{/assets/images/demoes/demo6/products/{fileName}(fileName=${item.product.imageUrl})}"
                                                     alt="product" width="80" height="80">
                                            </a>
                                            <a href="javascript:void(0);" th:onclick="'removeCartItemAjax(' + ${item.id} + ', this)'"
                                               class="btn-remove" title="Remove Product"><span>×</span></a>
                                        </figure>
                                    </div>
                                    <div th:if="${cart == null || #lists.isEmpty(cart.items)}" class="text-center p-5">
                                        <p>Giỏ hàng trống</p>
                                    </div>
                                </div>

                                <div class="dropdown-cart-total" th:if="${cart != null && !#lists.isEmpty(cart.items)}">
                                    <span>TỔNG CỘNG:</span>
                                    <span class="cart-total-price float-right"
                                          th:text="${#numbers.formatDecimal(cart.total, 0, 'COMMA', 0, 'POINT')} + 'đ'">0đ</span>
                                </div>

                                <div class="dropdown-cart-action" th:if="${cart != null && !#lists.isEmpty(cart.items)}">
                                    <a th:href="@{/cart}" class="btn btn-gray btn-block view-cart">Xem Giỏ Hàng</a>
                                    <a th:href="@{/order/checkout}" class="btn btn-dark btn-block">Thanh Toán</a>
                                </div>
                            </div>
                        </div>
                    </div></div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="page-header">
            <div class="container d-flex flex-column align-items-center">
                <nav aria-label="breadcrumb" class="breadcrumb-nav">
                    <div class="container">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="demo4.html">Trang Chủ</a></li>
                            <li class="breadcrumb-item active" aria-current="page">
                                Wishlist
                            </li>
                        </ol>
                    </div>
                </nav>

                <h1>Yêu Thích</h1>
            </div>
        </div>

        <div class="container">
            <div class="wishlist-title">
                <h2 class="p-2">Sản Phẩm Yêu Thích</h2>
            </div>
            <div class="wishlist-table-container">
                <table class="table table-wishlist mb-0">
                    <thead>
                    <tr>
                        <th class="thumbnail-col"></th>
                        <th class="product-col">Tên sản phẩm</th>
                        <th class="price-col">Giá</th>
                        <th class="status-col">Tình trạng</th>
                        <th class="action-col">Hành động</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="product-row" th:each="item : ${wishlistItems}">
                        <td>
                            <figure class="product-image-container">
                                <a th:href="@{/product/{id}(id=${item.id})}" class="product-image">
                                    <img th:src="@{/assets/images/demoes/demo6/products/{img}(img=${item.imageUrl})}" alt="product">
                                </a>
                                <a th:href="@{/wishlist/remove/{id}(id=${item.id})}" class="btn-remove icon-cancel" title="Xóa"></a>
                            </figure>
                        </td>
                        <td>
                            <h5 class="product-title">
                                <a th:href="@{/product/{id}(id=${item.id})}" th:text="${item.name}">Tên sản phẩm</a>
                            </h5>
                        </td>
                        <td class="price-box" th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'POINT') + ' VNĐ'}"></td>
                        <td><span class="stock-status">Còn hàng</span></td>
                        <td class="action">
                            <a th:href="@{/product/{id}(id=${item.id})}">
                            <button class="btn btn-dark btn-add-cart btn-shop">MUA NGAY</button>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div><!-- End .cart-table-container -->
        </div><!-- End .container -->
    </main><!-- End .main -->

    <footer class="footer appear-animate">
    </footer>
    <!-- End .footer -->
</div><!-- End .page-wrapper -->

<div class="loading-overlay">
    <div class="bounce-loader">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
    </div>
</div>

<div class="mobile-menu-overlay"></div><!-- End .mobil-menu-overlay -->

<div class="mobile-menu-container">
    <div class="mobile-menu-wrapper">
        <span class="mobile-menu-close"><i class="fa fa-times"></i></span>
        <nav class="mobile-nav">
            <ul class="mobile-menu">
                <li><a href="home.html">Trang Chủ</a></li>
                <li>
                    <a th:href="@{/shop}">Phân Loại</a>
                    <ul>
                        <li style="font-weight: bold; padding-left: 15px; color: #fff; margin-top: 10px;">ĐỐI TƯỢNG</li>
                        <li><a th:href="@{/shop(cat='Nam')}">Thời trang Nam</a></li>
                        <li><a th:href="@{/shop(cat='Nữ')}">Thời trang Nữ</a></li>

                        <li><hr class="dropdown-divider"></li> <li style="font-weight: bold; padding-left: 15px; color: #fff;">DANH MỤC</li>
                        <li><a th:href="@{/shop(cat='Áo')}">Các loại Áo</a></li>
                        <li><a th:href="@{/shop(cat='Quần')}">Các loại Quần</a></li>
                        <li><a th:href="@{/shop(cat='Váy')}">Váy & Đầm</a></li>
                        <li><a th:href="@{/shop(cat='Giày')}">Giày dép</a></li>
                        <li><a th:href="@{/shop(cat='Túi xách')}">Túi xách</a></li>
                        <li><a th:href="@{/shop(cat='Đồng hồ')}">Đồng hồ</a></li>

                        <li><hr class="dropdown-divider"></li>

                        <li><a th:href="@{/shop}" style="font-weight: bold; color: #0088cc;">Tất Cả Sản Phẩm</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Trợ Giúp<span class="tip tip-hot">Hot!</span></a>
                    <ul>
                        <li>
                            <a th:href="@{/order/checkout}">Thanh toán</a>
                        </li>
                        <li>
                            <a th:href="@{/login}">Đăng Ký</a>
                        </li>
                        <li>
                            <a th:href="@{/forgot-password}">Quên mật khẩu</a>
                        </li>
                    </ul>
                </li>
            </ul>

            <ul>
                <li><a th:href="@{/account}">Tài Khoản</a></li>
                <li><a th:href="@{/}">About Us</a></li>
                <li><a th:href="@{/wishlist}">Yêu Thích</a></li>
                <li><a th:href="@{/cart}">Giỏ Hàng</a></li>
                <li><a th:href="@{/login}" class="login-link">Đăng Nhập</a></li>
            </ul>
        </nav>
        <!-- End .mobile-nav -->

        <form class="search-wrapper mb-2" th:action="@{/shop}" method="get">
            <input type="text"
                   class="form-control mb-0"
                   name="keyword"
                   th:value="${keyword}"
                   placeholder="Tìm kiếm sản phẩm..."
                   required />
            <button class="btn icon-search text-white bg-transparent p-0" type="submit"></button>
        </form>

        <div class="social-icons">
            <a href="#" class="social-icon social-facebook icon-facebook" target="_blank">
            </a>
            <a href="#" class="social-icon social-twitter icon-twitter" target="_blank">
            </a>
            <a href="#" class="social-icon social-instagram icon-instagram" target="_blank">
            </a>
        </div>
    </div>
    <!-- End .mobile-menu-wrapper -->
</div><!-- End .mobile-menu-container -->

<div class="sticky-navbar">
    <div class="sticky-info">
        <a th:href="@{/#}">
            <i class="icon-home"></i>Trang Chủ
        </a>
    </div>
    <div class="sticky-info">
        <a th:href="@{/shop}" class="">
            <i class="icon-bars"></i>Phân Loại
        </a>
    </div>
    <div class="sticky-info">
        <a th:href="@{/wishlist}" class="">
            <i class="icon-wishlist-2"></i>Yêu Thích
        </a>
    </div>
    <div class="sticky-info">
        <a th:href="@{/account}" class="">
            <i class="icon-user-2"></i>Tài Khoản
        </a>
    </div>
    <div class="sticky-info">
        <a th:href="@{/cart}" class="">
            <i class="icon-shopping-cart position-relative">
                <span class="cart-count badge-circle">3</span>
            </i>Giỏ hàng
        </a>
    </div>
</div>



<a id="scroll-top" href="#top" title="Top" role="button"><i class="icon-angle-up"></i></a>

<!-- Plugins JS File -->
<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/assets/js/plugins.min.js}"></script>
<script th:src="@{/assets/js/jquery.appear.min.js}"></script>
<script>
    function removeCartItemAjax(itemId, element) {
        console.log("Đang gọi hàm xóa cho ID:", itemId); // Kiểm tra xem hàm có chạy không

        // Sử dụng đường dẫn tương đối chính xác
        fetch('/cart/api/remove/' + itemId, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
        })
            .then(response => {
                console.log("Phản hồi từ Server:", response.status);
                if (!response.ok) {
                    throw new Error('Mạng hoặc Server gặp lỗi (Code: ' + response.status + ')');
                }
                return response.json();
            })
            .then(data => {
                console.log("Dữ liệu nhận được:", data);
                if (data.success) {
                    // Xóa phần tử trên giao diện
                    const productItem = element.closest('.product');
                    if (productItem) {
                        productItem.remove();
                    }

                    // Cập nhật số lượng Badge
                    const badge = document.querySelector('.cart-count');
                    if (badge) badge.innerText = data.cartCount;

                    // Cập nhật tổng tiền
                    const totalPrice = document.querySelector('.cart-total-price');
                    if (totalPrice) {
                        totalPrice.innerText = new Intl.NumberFormat('vi-VN').format(data.newTotal) + 'đ';
                    }
                } else {
                    alert("Lỗi: " + data.message);
                }
            })
            .catch(error => {
                console.error("Lỗi Fetch:", error);
                alert("Có lỗi xảy ra khi gửi yêu cầu xóa.");
            });
    }
</script>
<!-- Main JS File -->
<script th:src="@{/assets/js/main.min.js}"></script>
</body>


<!-- Mirrored from portotheme.com/html/porto_ecommerce/wishlist.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 03 Dec 2025 14:22:49 GMT -->
</html>